# [Week 2-2] Clean Codeì™€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ìœ ì—°í•˜ê³  í™•ì¥ì„±ìˆê²Œ ë§Œë“œëŠ” ë²• :sailboat:

## 01. ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ì™€ SRP, Custom Hook

### ğŸ“ Clean Code

ë§ì€ ê°œë°œìë“¤ì€ ê¹¨ë—í•œ ì½”ë“œ, ì¢‹ì€ ì½”ë“œë¥¼ ìœ„í•´ ë…¸ë ¥í•©ë‹ˆë‹¤.

ê°•ì˜ë¥¼ ë“£ê³  ìƒê°í•œ ê²°ê³¼ ì œê°€ ìƒê°í•œ ì¢‹ì€ ì½”ë“œì˜ ê¸°ì¤€ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- ë‚´ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì‚¬ëŒì´ ë³´ê³  ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆëŠ” ì½”ë“œ

* í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì— ë§ê²Œ ë°”ë¡œë°”ë¡œ ìˆ˜ì •ì´ ê°€ëŠ¥í•œ ì½”ë“œ

- íŠ¸ë Œë“œì— ë§ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ê°€ëŠ¥í•œ ì½”ë“œ

ì˜¤ë˜ ë˜ì—ˆë‹¤ê³  ë¬´ì¡°ê±´ ë‚˜ìœ ì½”ë“œëŠ” ì•„ë‹™ë‹ˆë‹¤. ì˜¤ë˜ë˜ì—ˆì§€ë§Œ íŠ¸ë Œë“œì— ë§ê²Œ ê³ ì¹  ìˆ˜ ìˆë‹¤ë©´ ì¢‹ì€ ì½”ë“œë¼ê³  ìƒê°í•©ë‹ˆë‹¤.

### ğŸ“ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Seperation Of Concerns)

ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ëŠ” ì¢‹ì€ ì½”ë“œë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ê°€ì¥ ê¸°ë³¸ì ì¸ ì¶œë°œì ì…ë‹ˆë‹¤.

ê´€ì‹¬ì‚¬ëŠ” í•˜ë‚˜ì˜ ëª©ì =ëª¨ë“ˆ=ìµœì†Œí•œì˜ ë‹¨ìœ„ì…ë‹ˆë‹¤.

ì¦‰, ê° í•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤ê°€ í•œë²ˆì— ì—¬ëŸ¬ ê´€ì‹¬ì‚¬ë¥¼ ì²˜ë¦¬í•˜ë ¤ê³  í•˜ì§€ ì•Šê³ , í•˜ë‚˜ì˜ ê´€ì‹¬ì‚¬ë§Œ ì²˜ë¦¬í•˜ë„ë¡ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

#### ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ì´ìœ 

- ì½”ë“œê°€ ìˆ˜ì •ë˜ì–´ì•¼ í•  ì´ìœ ê°€ í•œê°€ì§€ë§Œ ì¡´ì¬í•˜ê²Œ ë©ë‹ˆë‹¤.
- ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë³€í™”ëŠ” í•„ì—°ì ì´ê³ , ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ì¼ìˆ˜ë¡ ê¸°ì¡´ì˜ ê¸°ëŠ¥ì„ ìˆ˜ì •, í™•ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. = ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì•¼ í•©ë‹ˆë‹¤.

> ë‹¨ì¼ ì±…ì„ ì›ì¹™ (Single Responsibility Principle): ëª¨ë“ˆë“¤ì€ ì±…ì„(ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ë™ì‘)ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ê°ê¸° í•˜ë‚˜ì˜ ì±…ì„ë§Œì„ ê°€ì ¸ì•¼ í•œë‹¤ëŠ” ì›ì¹™

> KISS (Keep It Simple, Stupid): ì—¬ëŸ¬ ê¸°ëŠ¥ì„ í¬í•¨ì‹œí‚¤ë©´ì„œ ë³µì¡í•˜ê²Œ ë§Œë“¤ë©´ ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§€ê¸°ì—, í•˜ë‚˜ì˜ ê¸°ëŠ¥ë§Œ ìˆ˜í–‰í•˜ë„ë¡ í•˜ë¼ëŠ” ì˜ë¯¸

### ğŸ“ Custom Hook

Custom Hookì€ ë¦¬ì•¡íŠ¸ì—ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

#### Reactì˜ ê´€ì‹¬ì‚¬

1. UI
2. ë¡œì§ (UIë¥¼ ë³€ê²½ì‹œí‚¤ëŠ” ë¶€ë¶„)

UIëŠ” ì‹¤ì œ ì½”ë“œìƒì—ì„œ JSXë¼ëŠ” í˜•íƒœë¡œ í‘œí˜„ë©ë‹ˆë‹¤.

UIë¥¼ ì œì™¸í•œ ëª¨ë“  ë™ì‘ì— ê´€í•œ ì½”ë“œë¥¼ ë¡œì§ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

#### Reactì—ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ë²•: Presentational - Container

ë¦¬ì•¡íŠ¸ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ê°€ì§€ ê³„ì¸µìœ¼ë¡œ ë¶„ë¦¬ì‹œí‚¤ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.

- Container ì»´í¬ë„ŒíŠ¸: ë¡œì§ë§Œ ë‹¤ë£¬ë‹¤. JSXì— ê´€í•œ ì½”ë“œê°€ ì „í˜€ ì—†ë‹¤. stateì™€ life cycleì„ ê´€ë¦¬í•œë‹¤.
- Presentational ì»´í¬ë„ŒíŠ¸: ëˆˆì— ë³´ì´ëŠ” UIë§Œì„ ë‹¤ë£¬ë‹¤.

í•˜ì§€ë§Œ Hookì´ ë“±ì¥í•œ ì´í›„ ë”ì´ìƒ Presentational - Container íŒ¨í„´ì€ ë§ì´ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

#### Reactì—ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ë²•: Custom Hook

ì»¤ìŠ¤í…€ í›…ì€ ë¦¬ì•¡íŠ¸ ìì²´ ë‚´ì¥ í›…ì„ ì´ìš©í•´ì„œ ë§Œë“  í•¨ìˆ˜ì…ë‹ˆë‹¤.

- React Hookë“¤ì„ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤.
- í•¨ìˆ˜ì˜ ì´ë¦„ì€ `use`ë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.

```js
// const LIGHT_MODE = "LightMode"
// const DARK_MODE = "darkMode"

const useMode = (initialValue = true) {
  const [isLightMode, setIsLightMode] = useState(initialValue);

  const isLightMode = useCallback(() => isLightMode, [isLightMode])
  const isDarkMode = () => !isLightMode


  const changeMode = () => useCallback(setIsLightMode((prev) => !prev, [isLightMode]))

  return (
    isLightMode,
    isDarkMode,
    changeMode
  )
};
```

```js
const { isLightMode, isDarkMode, changeMode } = useMode(); // ì‘ì„±í•œ ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©
```

ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ë¡œì§ì˜ ë³€í™”ë¥¼ ì‹ ê²½ì“¸ ì¼ì´ ì—†ë„ë¡ ì‘ì„±í•©ë‹ˆë‹¤.

í›…ì˜ ë¡œì§ì´ ë³€ê²½ë˜ì–´ë„ ì‚¬ìš©í•˜ëŠ” ìª½ì˜ ì½”ë“œëŠ” ë³€ê²½ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

## 02. íš¡ë‹¨ ê´€ì‹¬ì‚¬ (Cross-cutting concerns)

### ğŸ“ íš¡ë‹¨ ê´€ì‹¬ì‚¬

![image](https://d1jnx9ba8s6j9r.cloudfront.net/blog/wp-content/uploads/2017/05/cross-cutting-concern.png)
íš¡ë‹¨ê´€ì‹¬ì‚¬ëŠ” ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì— ê±¸ì³ì„œ ë™ì‘í•´ì•¼ í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.

module1, module2, module3ì—ì„œ ëª¨ë‘ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” ëŒ€í‘œì ì¸ íš¡ë‹¨ ê´€ì‹¬ì‚¬ëŠ” **ì¸ì¦ & ì¸ê°€**ì…ë‹ˆë‹¤.

íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì˜ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ìœ ì§€ë³´ìˆ˜ì—ì„œ êµ‰ì¥íˆ ì¤‘ìš”í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì¸ì¦/ì¸ê°€ê°€ í˜¼ì¬ë˜ì–´ ìˆë‹¤ë©´, ëª¨ë“  ëª¨ë“ˆì„ ê³ ì³ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì ì ˆíˆ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

### ğŸ“ HTTP í†µì‹ ì—ì„œ íš¡ë‹¨ ê´€ì‹¬ì‚¬ ì²˜ë¦¬í•˜ê¸°

```js
// App.js

import "./styles.css";

export default function App() {
  const request = () => {
    fetch("https://jsonplaceholder.typicode.com/todos", {
      // Authorization, ì¸ì¦, íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì²˜ë¦¬
      // ì´ê±¸ ì–´ë–»ê²Œ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œ?
      headers: {
        Authorization: "ACCESS_TOKEN",
      },
    });
  };

  return (
    <>
      <h1>Cross Cutting Concerns</h1>
      <button onClick={request}>request</button>
    </>
  );
}
```

- ëª©ì : í†µì‹ í•  ë•Œë§ˆë‹¤ í•´ì•¼í•˜ëŠ” ë™ì‘ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•´ì„œ ì²˜ë¦¬
  1. ë§¤ ìš”ì²­ë§ˆë‹¤ Authorization headerì— token ë„£ì–´ì£¼ê¸°
  2. baseURLì„ ì„¤ì •í•´ì„œ ìë™ìœ¼ë¡œ urlì•ì— ë„£ì–´ì£¼ê¸°

ëª¨ë“ˆì„ ë¶„ë¦¬í•  ë•ŒëŠ” í•¨ìˆ˜ í˜¹ì€ í´ë˜ìŠ¤ë¡œ ë‚˜ëˆ„ê²Œ ë©ë‹ˆë‹¤.

ê°€ì¥ í° ì°¨ì´ì ì€ í´ë˜ìŠ¤ëŠ” ê°ì²´í˜•íƒœë¡œ stateë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆëŠëƒ ì—†ëŠëƒì— ë”°ë¼ í•¨ìˆ˜ ë˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì„ íƒí•´ ëª¨ë“ˆì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.

ìœ„ì˜ ì½”ë“œëŠ” tokenê³¼ baseURLì´ë¼ëŠ” ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì í•©í•©ë‹ˆë‹¤.

ëª¨ë“ˆì„ ë§Œë“¤ë•ŒëŠ” ì“°ëŠ” ì…ì¥ì—ì„œ ì–´ë–¤ í˜•íƒœë¡œ ì“°ì¼ì§€ ìƒê°í•´ì•¼ í•©ë‹ˆë‹¤.

```js
// httpClient.js

class HttpClient {
  #baseURL; // private. í´ë˜ìŠ¤ ë°–ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ ex) httpClient.baseURL (x)
  constructor(baseURL) {
    this.baseURL = baseURL;
  }
  fetch(endPoint, options = {}) {
    // optionsë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šì•˜ì„ ë•Œë¥¼ ëŒ€ë¹„í•´ì„œ ë¹ˆê°ì²´ë¥¼ ì´ˆê¸°ê°’ìœ¼ë¡œ ì„¤ì •
    // undefined.headersëŠ” ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê¸° ë•Œë¬¸
    window.fetch(this.baseURL + endPoint, {
      ...options,
      headers: {
        Authorization: "ACCESS_TOKEN",
        ...options.headers, // headerê°€ ë’¤ì§‘ì–´ ì”Œì›Œì§€ë”ë¼ë„ ê°’ì„ ì„¤ì •
      },
    });
  }
}

const httpClient = new HttpClient("https://jsonplaceholder.typicode.com/");
const localClient = new HttpClient("localhost: 4000");
export { httpClient };
```

```js
// App.js
import "./styles.css";
import { httpClient } from "./httpClient";

export default function App() {
  const request = () => {
    httpClient.fetch("todos", { method: "POST", headers: { AA: "BB" } });
  };

  return (
    <>
      <h1>Cross Cutting Concerns</h1>
      <button onClick={request}>request</button>
    </>
  );
}
```

baseURLì´ ë‹¬ë¼ì¡Œì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ consructorì„ ìƒì„±í•©ë‹ˆë‹¤.

consructorë¥¼ ì„¤ì •í•˜ë©´ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ë°”ê¾¸ì§€ ì•Šì•„ë„ ê°ì²´ë¥¼ ìƒì„±í• ë•Œ ì¸ìë¥¼ ë°”ê¿”ì£¼ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.
