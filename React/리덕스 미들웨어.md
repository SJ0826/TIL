# 리덕스 미들웨어
### : 액션과 리듀서 상이의 중간자
리덕스 미들웨어는 액션과 리듀서 사이에서 액션을 디스패치했을 때 리듀서에서 처리하기 전에 사전에 지정된 작업을 실행할 수 있게 해준다.

주로 비동기 작업에서 사용된다.

리덕스 미들웨어의 종류는 다양한다.

대표적으로 `redux-thunk`, `redux-saga`가 사용된다.

## redux-thunk
### : 함수를 디스패치하는 미들웨어
```
const thunk = store => next => action =>
  typeof action === 'function'
    ? action(store.dispatch, store.getState)
    : next(action)
```
<<<<<<< HEAD
함수를 디스패치 할 때는, 해당 함수에서 `dispatch`와 `getState`를 파라미터로 받아온다.

### redux-thunk 예시
```
const getComments = () => (dispatch, getState) => {
  // 이 안에서는 액션을 dispatch 할 수도 있고
  // getState를 사용하여 현재 상태도 조회 할 수 있다.
  const id = getState().post.activeId;

  // 요청이 시작했음을 알리는 액션
  dispatch({ type: 'GET_COMMENTS' });

  // 댓글을 조회하는 프로미스를 반환하는 getComments
  api
    .getComments(id) // 요청을 하고
    .then(comments => dispatch({ type: 'GET_COMMENTS_SUCCESS', id, comments })) // 성공시
    .catch(e => dispatch({ type: 'GET_COMMENTS_ERROR', error: e })); // 실패시
};
```
## 출처
* 패스트캠퍼스 for velopert
    
=======
함수를 디스패치 할 때는, 해당 함수에서 `dispatch`와 `getState`를 파라미터로 받아온다.
>>>>>>> e057f93472e98a1745073e9d1d07fe2393fcd2f7
